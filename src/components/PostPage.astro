---
import type { CollectionEntry } from "astro:content";
import { getPostUrlBySlug } from "@utils/url-utils";
import PostCard from "./PostCard.astro";

const { page } = Astro.props;

// ğŸš€ ç§»é™¤æ—§çš„å»¶è¿Ÿå˜é‡å’Œé€»è¾‘ï¼Œç°åœ¨åŠ¨ç”»å»¶è¿Ÿå…¨éƒ¨é€šè¿‡ PostCard æ¥æ”¶ç´¢å¼•å¹¶åœ¨ CSS ä¸­è®¡ç®—
---
<div class="transition flex flex-col rounded-[var(--radius-large)] bg-[var(--card-bg)] py-1 md:py-0 md:bg-transparent md:gap-4 mb-4">
    <!-- éå†æ–‡ç« ï¼Œå¹¶ä¼ é€’ç´¢å¼• (index) ä½œä¸ºé”™ä½åŠ¨ç”»çš„ä¾æ® -->
    {page.data.map((entry: CollectionEntry<"posts">, index: number) => (
        <PostCard
                entry={entry}
                title={entry.data.title}
                tags={entry.data.tags}
                category={entry.data.category}
                published={entry.data.published}
                updated={entry.data.updated}
                url={getPostUrlBySlug(entry.slug)}
                image={entry.data.image}
                description={entry.data.description}
                draft={entry.data.draft}
                // ä¼ å…¥å½“å‰å¡ç‰‡åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•
                staggerIndex={index}
                // ç§»é™¤æ—§çš„ class:list="onload-animation" å’Œ style å±æ€§
        ></PostCard>
    ))}
</div>